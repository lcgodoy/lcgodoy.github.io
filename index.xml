<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Academic</title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description>Academic</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>© 2020</copyright><lastBuildDate>Sat, 01 Jun 2030 13:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/logo2.png</url>
      <title>Academic</title>
      <link>/</link>
    </image>
    
    <item>
      <title>Example Page 1</title>
      <link>/courses/example/example1/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/example/example1/</guid>
      <description>

&lt;p&gt;In this tutorial, I&amp;rsquo;ll share my top 10 tips for getting started with Academic:&lt;/p&gt;

&lt;h2 id=&#34;tip-1&#34;&gt;Tip 1&lt;/h2&gt;

&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;

&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;

&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;

&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;

&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;

&lt;h2 id=&#34;tip-2&#34;&gt;Tip 2&lt;/h2&gt;

&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;

&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;

&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;

&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;

&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Example Page 2</title>
      <link>/courses/example/example2/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/example/example2/</guid>
      <description>

&lt;p&gt;Here are some more tips for getting started with Academic:&lt;/p&gt;

&lt;h2 id=&#34;tip-3&#34;&gt;Tip 3&lt;/h2&gt;

&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;

&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;

&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;

&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;

&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;

&lt;h2 id=&#34;tip-4&#34;&gt;Tip 4&lt;/h2&gt;

&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;

&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;

&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;

&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;

&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Example Talk</title>
      <link>/talk/example/</link>
      <pubDate>Sat, 01 Jun 2030 13:00:00 +0000</pubDate>
      <guid>/talk/example/</guid>
      <description>

&lt;h1 id=&#34;under-construction&#34;&gt;UNDER CONSTRUCTION&lt;/h1&gt;
</description>
    </item>
    
    <item>
      <title>Maximum Likelihood Estimation</title>
      <link>/post/2020/04/mle/</link>
      <pubDate>Thu, 02 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/post/2020/04/mle/</guid>
      <description>


&lt;div id=&#34;intro&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;This blog post is a supplementary material for my students from the&lt;br /&gt;
&lt;em&gt;Introduction to Mathematical Statistics (STAT 3445)&lt;/em&gt; class. The main goal
is to give a brief, but clear, explanation of how maximum Likelihood
Estimation (MLE for short) works.&lt;/p&gt;
&lt;p&gt;One example with the Normal distribution be covered by this post.&lt;/p&gt;
&lt;p&gt;One of the key concepts for the MLE is the Likelihood Function. The Likelihood
Function can be seen as the &lt;em&gt;joint pdf&lt;/em&gt; conditioned on the data, i.e., keeping
the data fixed. When working with only one random variable, lets say &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt;, the
Likelihood function is the pdf itself. For example, consider a problem where
we are said that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; follows a &lt;em&gt;Binomial&lt;/em&gt; distribution with &lt;span class=&#34;math inline&#34;&gt;\(n = 10\)&lt;/span&gt; and &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt;
unknown. We know that
&lt;span class=&#34;math display&#34;&gt;\[
P(X = x) = {{10}\choose{x}} p^x(1 - p)^{n - x}.
\]&lt;/span&gt;
Suppose now, that besides knowing that &lt;span class=&#34;math inline&#34;&gt;\(X\)&lt;/span&gt; follows a &lt;span class=&#34;math inline&#34;&gt;\(Binomial(10, p)\)&lt;/span&gt;, we also
know a realization of &lt;span class=&#34;math inline&#34;&gt;\(x = 4\)&lt;/span&gt;. Now, what we are interested in infer is, what is
the value of &lt;span class=&#34;math inline&#34;&gt;\(p\)&lt;/span&gt; that maximizes &lt;span class=&#34;math inline&#34;&gt;\(P(X = 10)\)&lt;/span&gt;. Can you notice how different it is
from finding a probability? We are still working with probability distributions,
but with a different goal.&lt;/p&gt;
&lt;div id=&#34;example-1---normal-distribution&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Example 1 - Normal Distribution&lt;/h3&gt;
&lt;p&gt;Suppose that &lt;span class=&#34;math inline&#34;&gt;\(X_1, \, \cdots \, X_n \overset{iid}{\sim} N(\mu, 1)\)&lt;/span&gt;. How do we
find the MLE for &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;? First of all, note that, since the random variables are
identically distributed we have that
&lt;span class=&#34;math display&#34;&gt;\[
f_i(x_i) = f(x_i) = \frac{1}{\sqrt{2\pi}} \exp \left \{ - \frac{(x_i - \mu)^2}{2} \right \}.
\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Moreover, since the random variables are independent, their joint distribution
is equal to the product of the marginals, i.e.,
&lt;span class=&#34;math display&#34;&gt;\[\begin{align*}
  f(x_1, \cdots, x_n) &amp;amp; = \prod_{i = 1}^n f(x_i) \\
  &amp;amp; = f(x_1) f(x_2) \cdots f(x_n) \\\\
  &amp;amp; = \frac{1}{(2\pi)^{n/2}} \exp \left \{ - \frac{\sum_{i = 1}^n (x_i - \mu)^2}{2} \right \}.
\end{align*}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Finally, as stated before, the Likelihood function is given by
&lt;span class=&#34;math display&#34;&gt;\[\begin{align*}
  L(\mu|X_1 = x_1, \cdots, X_n = x_n) &amp;amp; = f(x_1, \cdots, x_n) \\
  &amp;amp; = \frac{1}{(2\pi)^{n/2}} \exp \left \{ - \frac{\sum_{i = 1}^n (x_i - \mu)^2}{2} \right \}.
\end{align*}\]&lt;/span&gt;
Note that, the data is fixed and the Likelihood is a function of &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;. Maximizing
this function with respect to &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt; gives us the value for this parameter that this
data is more likely to be generated from. The idea is that there is an infinite number
of Normal probability distributions with &lt;span class=&#34;math inline&#34;&gt;\(\sigma^2 = 2\)&lt;/span&gt;, each one associated to
one value of &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;. Now, for each value of &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt; we have a probability for the
joint pdf of the data. Finding the the Maximum Likelihood estimator od &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;, gives
us the value for this parameter that maximizes this probability.&lt;/p&gt;
&lt;p&gt;Usually, maximizing the Likelihood function is quite complicated. An alternative
is to maximize the &lt;em&gt;log-Likelihood&lt;/em&gt; function instead. The &lt;em&gt;log-Likelihood&lt;/em&gt; function,
as the name suggests, is the &lt;em&gt;log&lt;/em&gt; (of natural base) of the Likelihood function and
since the &lt;em&gt;log&lt;/em&gt; is monotone non-decreasing function, the value that maximizes the
log-likelihood also maximizes the Likelihood function.
For this problem, the log-likelihood, denoted by &lt;span class=&#34;math inline&#34;&gt;\(\ell(\mu|\mathbf{X})\)&lt;/span&gt;, where
&lt;span class=&#34;math inline&#34;&gt;\(\mathbf{X} = \{ X_1, \, \cdots \, X_n \}\)&lt;/span&gt;, is defined as
&lt;span class=&#34;math display&#34;&gt;\[\begin{align*}
  \ell(\mu|\mathbf{X}) &amp;amp;= \log\left( L(\mu|\mathbf{X})  \right) \\
  &amp;amp; = -\frac{n}{2} \log(2\pi) - \frac{\sum_{i = 1}^n (x_i^2 - 2\mu x_i + \mu^2)}{2} \\
  &amp;amp; = -\frac{n}{2} \log(2\pi) - \frac{\sum_{i = 1}^n x_i^2}{2} + \mu \sum_{i = 1} x_i - \frac{n\mu^2}{2}.
\end{align*}\]&lt;/span&gt;
Now that we have found the &lt;span class=&#34;math inline&#34;&gt;\(\ell(\mu|\mathbf{X})\)&lt;/span&gt; in a simple form, we can maximize
it. To do so, we have to take the first derivative with respect to &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;, make it
equal to 0, and, finally, isolate &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;. Then, take the second derivative of the
function and verify if this function is less than zero when &lt;span class=&#34;math inline&#34;&gt;\(\mu = \hat{\mu}\)&lt;/span&gt;.
The first derivative of the log-likelihood is given by:
&lt;span class=&#34;math display&#34;&gt;\[\begin{align*}
  \ell&amp;#39;(\mu|\mathbf{X}) &amp;amp;= \frac{\partial \ell(\mu|\mathbf{X})}{\partial \mu} \\
  &amp;amp; = \sum_{i = 1} x_i - n\mu.
\end{align*}\]&lt;/span&gt;
Making it equal to zero and isolating &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;, gives us the Maximum Likelihood
estimator of &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;, which is
&lt;span class=&#34;math display&#34;&gt;\[
\hat{\mu} = \bar{x}.
\]&lt;/span&gt;
Now, we only have to take the second derivative of the &lt;em&gt;log-Likelihood&lt;/em&gt; function
to be sure that &lt;span class=&#34;math inline&#34;&gt;\(\hat{\mu}\)&lt;/span&gt; is a point of maximum.
&lt;span class=&#34;math display&#34;&gt;\[\begin{align*}
  \ell&amp;#39;&amp;#39;(\mu|\mathbf{X}) &amp;amp;= \frac{\partial \ell&amp;#39;(\mu|\mathbf{X})}{\partial \mu} \\
  &amp;amp; = -n.
\end{align*}\]&lt;/span&gt;
Note that &lt;span class=&#34;math inline&#34;&gt;\(-n &amp;lt; 0\)&lt;/span&gt; for all possible values of &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;, thus the function is convex
and &lt;span class=&#34;math inline&#34;&gt;\(\hat{\mu} = \bar{x}\)&lt;/span&gt; is the Maximum Likelihood Estimator for &lt;span class=&#34;math inline&#34;&gt;\(\mu\)&lt;/span&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;recap&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Recap&lt;/h2&gt;
&lt;p&gt;Summarizing the method:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Find the Likelihood function by finding the joint pdf (of pmf) and making it
function of the parameter (or parameters) that you want to estimate;&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;Take the log of the Likelihood function;&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;Take the first derivative of the &lt;em&gt;log-Likelihood&lt;/em&gt; function, make it equal to
zero and isolate the parameter that you want to estimate;&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;Find the second derivative of the &lt;em&gt;log-likelihood&lt;/em&gt; and analyze it to be sure
that the value found for the parameter is in fact a point of maximum.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>An example preprint / working paper</title>
      <link>/publication/preprint/</link>
      <pubDate>Sun, 07 Apr 2019 00:00:00 +0000</pubDate>
      <guid>/publication/preprint/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Slides&lt;/em&gt; button above to demo Academic&amp;rsquo;s Markdown slides feature.
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Supplementary notes can be added here, including &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slides</title>
      <link>/slides/example/</link>
      <pubDate>Tue, 05 Feb 2019 00:00:00 +0000</pubDate>
      <guid>/slides/example/</guid>
      <description>

&lt;h1 id=&#34;welcome-to-slides&#34;&gt;Welcome to Slides&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://sourcethemes.com/academic/&#34; target=&#34;_blank&#34;&gt;Academic&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Efficiently write slides in Markdown&lt;/li&gt;
&lt;li&gt;3-in-1: Create, Present, and Publish your slides&lt;/li&gt;
&lt;li&gt;Supports speaker notes&lt;/li&gt;
&lt;li&gt;Mobile friendly slides&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;controls&#34;&gt;Controls&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Next: &lt;code&gt;Right Arrow&lt;/code&gt; or &lt;code&gt;Space&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Previous: &lt;code&gt;Left Arrow&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start: &lt;code&gt;Home&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Finish: &lt;code&gt;End&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Overview: &lt;code&gt;Esc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Speaker notes: &lt;code&gt;S&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fullscreen: &lt;code&gt;F&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Zoom: &lt;code&gt;Alt + Click&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hakimel/reveal.js#pdf-export&#34; target=&#34;_blank&#34;&gt;PDF Export&lt;/a&gt;: &lt;code&gt;E&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;code-highlighting&#34;&gt;Code Highlighting&lt;/h2&gt;

&lt;p&gt;Inline code: &lt;code&gt;variable&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Code block:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;porridge = &amp;quot;blueberry&amp;quot;
if porridge == &amp;quot;blueberry&amp;quot;:
    print(&amp;quot;Eating...&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;math&#34;&gt;Math&lt;/h2&gt;

&lt;p&gt;In-line math: $x + y = z$&lt;/p&gt;

&lt;p&gt;Block math:&lt;/p&gt;

&lt;p&gt;$$
f\left( x \right) = \;\frac{{2\left( {x + 4} \right)\left( {x - 4} \right)}}{{\left( {x + 4} \right)\left( {x + 1} \right)}}
$$&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;fragments&#34;&gt;Fragments&lt;/h2&gt;

&lt;p&gt;Make content appear incrementally&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{{% fragment %}} One {{% /fragment %}}
{{% fragment %}} **Two** {{% /fragment %}}
{{% fragment %}} Three {{% /fragment %}}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Press &lt;code&gt;Space&lt;/code&gt; to play!&lt;/p&gt;

&lt;p&gt;&lt;span class=&#34;fragment &#34; &gt;
   One
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
   &lt;strong&gt;Two&lt;/strong&gt;
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
   Three
&lt;/span&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;A fragment can accept two optional parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;class&lt;/code&gt;: use a custom style (requires definition in custom CSS)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;weight&lt;/code&gt;: sets the order in which a fragment appears&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;speaker-notes&#34;&gt;Speaker Notes&lt;/h2&gt;

&lt;p&gt;Add speaker notes to your presentation&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{% speaker_note %}}
- Only the speaker can read these notes
- Press `S` key to view
{{% /speaker_note %}}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Press the &lt;code&gt;S&lt;/code&gt; key to view the speaker notes!&lt;/p&gt;

&lt;aside class=&#34;notes&#34;&gt;
  &lt;ul&gt;
&lt;li&gt;Only the speaker can read these notes&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;S&lt;/code&gt; key to view&lt;/li&gt;
&lt;/ul&gt;
&lt;/aside&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;themes&#34;&gt;Themes&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;black: Black background, white text, blue links (default)&lt;/li&gt;
&lt;li&gt;white: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;league: Gray background, white text, blue links&lt;/li&gt;
&lt;li&gt;beige: Beige background, dark text, brown links&lt;/li&gt;
&lt;li&gt;sky: Blue background, thin dark text, blue links&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;ul&gt;
&lt;li&gt;night: Black background, thick white text, orange links&lt;/li&gt;
&lt;li&gt;serif: Cappuccino background, gray text, brown links&lt;/li&gt;
&lt;li&gt;simple: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;solarized: Cream-colored background, dark green text, blue links&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;


&lt;section data-noprocess data-shortcode-slide
  
      
      data-background-image=&#34;/img/boards.jpg&#34;
  &gt;


&lt;h2 id=&#34;custom-slide&#34;&gt;Custom Slide&lt;/h2&gt;

&lt;p&gt;Customize the slide style and background&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{&amp;lt; slide background-image=&amp;quot;/img/boards.jpg&amp;quot; &amp;gt;}}
{{&amp;lt; slide background-color=&amp;quot;#0000FF&amp;quot; &amp;gt;}}
{{&amp;lt; slide class=&amp;quot;my-style&amp;quot; &amp;gt;}}
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;custom-css-example&#34;&gt;Custom CSS Example&lt;/h2&gt;

&lt;p&gt;Let&amp;rsquo;s make headers navy colored.&lt;/p&gt;

&lt;p&gt;Create &lt;code&gt;assets/css/reveal_custom.css&lt;/code&gt; with:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.reveal section h1,
.reveal section h2,
.reveal section h3 {
  color: navy;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;questions&#34;&gt;Questions?&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://discourse.gohugo.io&#34; target=&#34;_blank&#34;&gt;Ask&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://sourcethemes.com/academic/docs/&#34; target=&#34;_blank&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Privacy Policy</title>
      <link>/privacy/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/privacy/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Terms</title>
      <link>/terms/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/terms/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A simple plot for correlation between response and explanatory variables</title>
      <link>/post/2018/06/2018-06-16-correlation/</link>
      <pubDate>Sat, 16 Jun 2018 00:00:00 +0000</pubDate>
      <guid>/post/2018/06/2018-06-16-correlation/</guid>
      <description>

&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;In this post, I’ll explain very briefly how to build a bar correlation plot
using &lt;code&gt;ggplot2&lt;/code&gt; and &lt;code&gt;dplyr&lt;/code&gt;. Such graphs are interesting to examine the relationship
between an outcome of interest and explanatory variables, which is an important
task that precedes a regression analysis. It is important to remember that the
Pearson Correlation gives us a linear correlation. Consequently, a low linear
correlation doesn’t necessarily imply that there is no correlation between two
variables because such correlation can follow a non-linear pattern. Another very
interesting remark is the famous quote “Correlation is not causation!“.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The data used is the well-know &lt;code&gt;mtcars&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;straight-to-the-point&#34;&gt;Straight to the point&lt;/h2&gt;

&lt;p&gt;Let&amp;rsquo;s say that we are interested in verify which variables have high correlations
with &lt;code&gt;mpg&lt;/code&gt;. To do it, use the following piece of code to compute the correlation matrix
for the data and then select just first the line of the matrix corresponding to the
variable of interest, after this, exclude the first position of the resulting
vector.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(dplyr)
library(ggplot2)
library(magrittr)

correlation &amp;lt;- cor(mtcars)[1,][-1]
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;In matter of fact, the Pearson correlation is not adequated to measure the
correlation between variables that are not continuous. However, this is just a
toy example to show how to create a specific plot.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Now that the correlations have already been computed, store it in a &lt;code&gt;tibble&lt;/code&gt;
(this is not necessary, but make the code more organized). Note that the
&lt;code&gt;Covariates&lt;/code&gt; variable is being reordered by the correlation. As a consequence,
when the data is plotted, the bars will be ordered by their correlation
coefficient with the response variable.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;df &amp;lt;- tibble(Covariates = names(correlation),
             Correlation = correlation) %&amp;gt;% 
  mutate(Covariates = factor(Covariates, 
                             levels = Covariates[order(.$Correlation, 
                                                       decreasing = T)]
  )
  )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the following piece of code, the argument &lt;code&gt;fill = as.factor(sign(Correlation))&lt;/code&gt; will
give different colours for negative and positive correlations, these colours are specified
with &lt;code&gt;scale_fill_manual&lt;/code&gt;. Also, &lt;code&gt;stat = &#39;identity&#39;&lt;/code&gt; is necessary because the default of &lt;code&gt;geom_bar&lt;/code&gt;
assumes a count. In &lt;code&gt;geom_text&lt;/code&gt;, the argument &lt;code&gt;vjust&lt;/code&gt; needs to be multiplied by &lt;code&gt;sign(Correlation)&lt;/code&gt;
since the bars assume positive and negative values and such parameter needs to be different
for each of these two cases.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;ggplot(df) +
  geom_bar(aes(x = Covariates, y = Correlation, fill = as.factor(sign(Correlation))),
           stat = &#39;identity&#39;, width = .6) +
  geom_text(aes(x = Covariates, y = Correlation, 
                label = formatC(Correlation, digits = 2)),
            vjust = sign(df$Correlation)*1.6,
            color = &#39;white&#39;, 
            size = 3.5)+
  scale_fill_manual(values = c(&#39;#9b1d1d&#39;, &#39;#129127&#39;)) +
  guides(fill = F) +
  labs(y = expression(rho(X[i], Y)),
       x = expression(X[i])) +
  theme_bw()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;/post/2018/06/2018-06-16-correlation_files/figure-html/plot1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Note that the plot above can have another interesting ordering for the bars. If we
order the variable &lt;code&gt;Covariates&lt;/code&gt; by the absolute value of the &lt;code&gt;Correlation&lt;/code&gt;, then we’ll
have the plot ordered by the strength of the correlation, independently from its
signal. Sometimes such approach is more interesting and it is shown in the next
piece of code. There is just one subtle alteration, apply the function &lt;code&gt;abs&lt;/code&gt; to
&lt;code&gt;.$Correlation&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;df %&amp;lt;&amp;gt;% mutate(Covariates = factor(Covariates, 
                                   levels = Covariates[order(abs(.$Correlation), 
                                                             decreasing = T)]))

ggplot(df) +
  geom_bar(aes(x = Covariates, y = Correlation, fill = as.factor(sign(Correlation))),
           stat = &#39;identity&#39;, width = .6) +
  geom_text(aes(x = Covariates, y = Correlation, 
                label = formatC(Correlation, digits = 2)),
            vjust = sign(df$Correlation)*1.6,
            color = &#39;white&#39;, 
            size = 3.5)+
  scale_fill_manual(values = c(&#39;#9b1d1d&#39;, &#39;#129127&#39;)) +
  guides(fill = F) +
  labs(y = expression(rho(X[i], Y)),
       x = expression(X[i])) +
  theme_bw()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;/post/2018/06/2018-06-16-correlation_files/figure-html/plot2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;

&lt;p&gt;So, that&amp;rsquo;s it. Hope that you liked.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>WordClouds - Visualizing gender inequality in income</title>
      <link>/post/2018/05/2018-05-02-wordcloud/</link>
      <pubDate>Wed, 02 May 2018 00:00:00 +0000</pubDate>
      <guid>/post/2018/05/2018-05-02-wordcloud/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/pymjs/pym.v1.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/widgetframe-binding/widgetframe.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/wordcloud2/wordcloud.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/wordcloud2/wordcloud2-all.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/wordcloud2/hover.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/wordcloud2-binding/wordcloud2.js&#34;&gt;&lt;/script&gt;


&lt;div id=&#34;introduction&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This week I’m posting my visualization and brief analysis of the
&lt;a href=&#34;https://twitter.com/R4DScommunity/status/988790036014485504&#34;&gt;#TidyTuesday week 4&lt;/a&gt;.
The challenge was about the disparity between men and women when analysing their
average incomes. The data provided was organized as follows:&lt;/p&gt;
&lt;div id=&#34;DT&#34; style=&#34;width:100%;height:100%;&#34; class=&#34;widgetframe html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;DT&#34;&gt;{&#34;x&#34;:{&#34;url&#34;:&#34;/post/2018/05/2018-05-02-wordcloud_files/figure-html//widgets/widget_data1.html&#34;,&#34;options&#34;:{&#34;xdomain&#34;:&#34;*&#34;,&#34;allowfullscreen&#34;:false,&#34;lazyload&#34;:false}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://data.gov.au/dataset/taxation-statistics-2013-14/resource/c506c052-be2f-4fba-8a65-90f9e60f7775?inner_span=True&#34;&gt;data souce&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.womensagenda.com.au/latest/eds-blog/australia-s-50-highest-paying-jobs-are-paying-men-significantly-more/&#34;&gt;An article about it&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;hypothesis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Hypothesis&lt;/h2&gt;
&lt;p&gt;In the dataset, there are a lot of &lt;em&gt;composite occupations&lt;/em&gt;, i.e., occupations
that have large descriptions or are composed of two or more different roles.
Due to it, I would like to see if there are words in these occupations that
appear more in female individuals. In addition, would be nice visualize the
average income associated with each word. To make this “average income per word”
comparable, it was categorized by its percentile.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you are not interested in &lt;em&gt;how to&lt;/em&gt; create the visualization, go directly
to the analysis &lt;a href=&#34;#analysis&#34;&gt;clicking here&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div id=&#34;ingredients&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Ingredients&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;data.table&lt;/code&gt; - read the data;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dplyr&lt;/code&gt; - for data manipulation;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;magrittr&lt;/code&gt; - it’s not just the &lt;code&gt;%&amp;gt;%&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ggplot2&lt;/code&gt; - create the legend (certainly it can be done in a more efficient way);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cowplot&lt;/code&gt; - extract ggplot2 legend;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tm&lt;/code&gt; - Text Mining;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;stringr&lt;/code&gt; - string handling;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wordcloud2&lt;/code&gt; - wordclouds.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;reading-and-manipulating-the-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Reading and manipulating the data&lt;/h2&gt;
&lt;p&gt;The following script will read the data and handle with two initial problems:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;strong&gt;Encoding&lt;/strong&gt;: I’m a Linux user and the data came from Windows. To overcome encoding
problems, we need to switch the encoding to &lt;em&gt;UTF-8&lt;/em&gt;;&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Integer overflow&lt;/strong&gt;: sometimes, in this data, integers are too large. As a consequence,
a summation of integers can return a &lt;code&gt;NaN&lt;/code&gt;, when this integer exceeds a certain size. To
remedy this problem, we can turn these integers in numerics (probably not the smartest way to solve the problem).&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tm)
library(magrittr)
library(dplyr)

Data &amp;lt;- data.table::fread(
  (&amp;quot;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-04-23/week4_australian_salary.csv&amp;quot;), 
  stringsAsFactors = F, data.table = F
) %&amp;gt;% 
  as_tibble() %&amp;gt;% 
  mutate(occupation = iconv(occupation, from = &amp;quot;WINDOWS-1252&amp;quot;, to = &amp;quot;UTF-8&amp;quot;), # solving encoding problems
         individuals = as.numeric(individuals), # avoiding integer overflow
         individuals = as.numeric(individuals)) # avoiding integer overflow&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After that, I split the data by gender.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data_split &amp;lt;- split(Data, Data$gender) # split by gender
data_split$Total &amp;lt;- Data # adding a list component with all data&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then, created a function that returns the &lt;em&gt;frequency&lt;/em&gt; each word appears
and the &lt;em&gt;average income&lt;/em&gt; related to this word.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# if stem is TRUE, words will be &amp;quot;stemmed&amp;quot;

word_counter &amp;lt;- function(data, stem = T) { 
  
  stopwords &amp;lt;- tm::stopwords(&amp;#39;en&amp;#39;) # aux to remove stopwords
  
  if(stem == T) {
    data %&amp;lt;&amp;gt;% 
      mutate(occup_text = occupation %&amp;gt;% stringr::str_to_lower() %&amp;gt;% 
               stringr::str_replace_all(&amp;#39;–&amp;#39;, &amp;quot;&amp;quot;) %&amp;gt;% 
               tm::removePunctuation() %&amp;gt;% 
               tm::removeNumbers() %&amp;gt;% 
               tm::removeWords(stopwords) %&amp;gt;% 
               tm::stemDocument() %&amp;gt;%
               tm::stripWhitespace()) 
    
    dtm &amp;lt;- data$occup_text %&amp;gt;%
      VectorSource() %&amp;gt;% 
      Corpus() %&amp;gt;% 
      TermDocumentMatrix() 
    
    df_word &amp;lt;- as.matrix(dtm) %&amp;gt;% 
      rowSums() %&amp;gt;% 
      sort(decreasing=TRUE) %&amp;gt;% 
      names
  }
  else {
    data %&amp;lt;&amp;gt;% 
      mutate(occup_text = occupation %&amp;gt;% stringr::str_to_lower() %&amp;gt;% 
               stringr::str_replace_all(&amp;#39;–&amp;#39;, &amp;quot;&amp;quot;) %&amp;gt;%
               tm::removePunctuation() %&amp;gt;% 
               tm::removeNumbers() %&amp;gt;% 
               tm::removeWords(stopwords) %&amp;gt;%
               tm::stripWhitespace()) 
    
    dtm &amp;lt;- data$occup_text %&amp;gt;%
      VectorSource() %&amp;gt;% 
      Corpus() %&amp;gt;% 
      TermDocumentMatrix() 
    
    df_word &amp;lt;- as.matrix(dtm) %&amp;gt;% 
      rowSums() %&amp;gt;% 
      sort(decreasing=TRUE) %&amp;gt;% 
      names
  }
  
  df_word$freq &amp;lt;- NA_real_
  df_word$income &amp;lt;- NA_real_
  aux &amp;lt;- NULL
  
  for(i in seq_len(nrow(df_word))) {
    aux &amp;lt;- data[stringr::str_detect(data$occup_text, df_word$word[i]),]
    df_word$freq[i] &amp;lt;- sum(aux$individuals)
    df_word$income[i] &amp;lt;- sum(aux$average_taxable_income*aux$individuals)/df_word$freq[i]
    aux &amp;lt;- NULL
  }
  
  return(df_word)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that, the package &lt;code&gt;tm&lt;/code&gt; is used just to create a &lt;code&gt;data.frame&lt;/code&gt; with one line
for each word. Then, &lt;code&gt;stringr&lt;/code&gt; is used to detect the professions that
“match” with each word. Another important detail is concerned about the
calculation of the &lt;em&gt;average income&lt;/em&gt;. Instead of using
&lt;code&gt;mean(aux$average_taxable_income)&lt;/code&gt;, &lt;code&gt;sum(aux$average_taxable_income*aux$individuals)/df_word$freq[i]&lt;/code&gt;
is used. The first choice would calculate the average wrongly. Because the average
income of a word that appeared one time would be treated in the same way that
a word that appeared a hundred times.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;almost-there&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Almost there&lt;/h2&gt;
&lt;p&gt;Now, we just need to run the following script to obtain everything that wee need
to build the men and women wordclouds.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;word_counters &amp;lt;- purrr::map(data_split, word_counter, stem = F)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;creating-a-colour-palette-based-on-the-quantiles&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Creating a colour palette based on the quantiles&lt;/h3&gt;
&lt;p&gt;The colour palette was created based on the quantiles of the average income
considering both men and women. The palette goes from red to white to blue,
this means that red words are associated with low income and blue with high
income.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;col_pal &amp;lt;- colorRampPalette(colors = c(&amp;quot;#f71616&amp;quot;, &amp;quot;#ffffff&amp;quot;, &amp;quot;#283eff&amp;quot;))
breaks &amp;lt;- quantile(word_counters$Total$income, probs = seq(0, 1, by = .005))&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;white values are associated with median income. However, the distribution
of the average income is asymetric.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The following lines of code create a variable called &lt;code&gt;color&lt;/code&gt; that indicates
at each quantile each average income is associated and the respective color.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;word_counters &amp;lt;- purrr::map(word_counters, 
                            function(data) {
                              data %&amp;lt;&amp;gt;%
                                mutate(color = cut(x = income, 
                                                   breaks = breaks, 
                                                   label = col_pal(length(breaks) - 1)
                                )
                                )
                            })&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;word-clouds&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Word clouds&lt;/h2&gt;
&lt;p&gt;Finally, we can create the desired word clouds and it can be done with a few lines
of code. For example, to create a word cloud for men execute the following code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;wc_obj_men &amp;lt;- word_counters$Male %&amp;gt;% 
  filter(freq &amp;gt; quantile(freq, .8)) # I&amp;#39;m using just the 20% more frequent words.

men_colors &amp;lt;- wc_obj_men$color

# Data structure utilized by wordcloud2
wc_obj_men %&amp;lt;&amp;gt;% select(word, freq)

(wc_men &amp;lt;- wordcloud2::wordcloud2(data = wc_obj_men, color = men_colors,
                                  backgroundColor = &amp;quot;black&amp;quot;,
                                  shuffle = F, 
                                  size = .5))&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:100%;height:480px;&#34; class=&#34;widgetframe html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;url&#34;:&#34;/post/2018/05/2018-05-02-wordcloud_files/figure-html//widgets/widget_men_wc_print.html&#34;,&#34;options&#34;:{&#34;xdomain&#34;:&#34;*&#34;,&#34;allowfullscreen&#34;:false,&#34;lazyload&#34;:false}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Similarly, if you want to visualize the women’s word cloud, run:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;wc_obj_women &amp;lt;- word_counters$Female %&amp;gt;% 
  filter(freq &amp;gt; quantile(freq, .8))

women_colors &amp;lt;- wc_obj_women$color

wc_obj_women %&amp;lt;&amp;gt;% select(word, freq)

(wc_women &amp;lt;- wordcloud2::wordcloud2(data = wc_obj_women, color = women_colors,
                                    backgroundColor = &amp;quot;black&amp;quot;,
                                    shuffle = F, 
                                    size = .5))&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:100%;height:480px;&#34; class=&#34;widgetframe html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;url&#34;:&#34;/post/2018/05/2018-05-02-wordcloud_files/figure-html//widgets/widget_women_wc_print.html&#34;,&#34;options&#34;:{&#34;xdomain&#34;:&#34;*&#34;,&#34;allowfullscreen&#34;:false,&#34;lazyload&#34;:false}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;div id=&#34;creating-the-legend&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Creating the legend&lt;/h3&gt;
&lt;p&gt;Legend will be created as follows (I’m sure it can be done more efficiently):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;legends &amp;lt;- ggplot2::ggplot(word_counters$Total, aes(x = freq, y = income, fill = income)) +
  ggplot2::geom_point(alpha = .7) + 
  ggplot2::scale_fill_gradientn(colours = c(&amp;quot;#f71616&amp;quot;, &amp;quot;#ffffff&amp;quot;, &amp;quot;#283eff&amp;quot;), 
                                guide = ggplot2::guide_colorbar(title = &amp;quot;Avg. Income&amp;quot;, 
                                                                title.position = &amp;quot;top&amp;quot;, 
                                                                label.position = &amp;quot;bottom&amp;quot;,
                                                                label.theme = ggplot2::element_text(angle = 90,
                                                                                                    size = 6.5,
                                                                                                    family = &amp;quot;Space Mono&amp;quot;),
                                                                ticks = F),
                                breaks = c(min(breaks), max(breaks)),
                                labels = c(&amp;quot;low&amp;quot;, &amp;quot;high&amp;quot;)) +
  ggplot2::theme(legend.justification = &amp;quot;bottom&amp;quot;, 
                 legend.direction = &amp;quot;horizontal&amp;quot;, 
                 legend.title = ggplot2::element_text(family = &amp;quot;Space Mono&amp;quot;,
                                                      size = 8))


legends &amp;lt;- cowplot::get_legend(legends)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;analysis&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Final Word Cloud and Analysis&lt;/h2&gt;
&lt;p&gt;The word clouds below can be used to extract a lot of information about gender
inequalities in Australia in 2013-14. For example, take a look at the word office.
Despite the number of women that plays a role in an &lt;em&gt;office&lt;/em&gt; is greater than the
number of men, Men have a much better salary at, probably, the same function.
If you analyze carefully both word clouds, you will be able to identify several
differences in the income associated with the same word in different genders.&lt;/p&gt;
&lt;p&gt;In conclusion, even in Australia, a country considered developed, the problem
of not treating people of different genders equally exists. It’s a sad reality
that needs to be showed and faced.&lt;/p&gt;
&lt;div class=&#34;row&#34;&gt;
&lt;div class=&#34;col-md-6 px-0&#34;&gt;
&lt;h3 id=&#34;men&#34;&gt;Men&lt;/h3&gt;
&lt;div id=&#34;htmlwidget-3&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;wordcloud2 html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-3&#34;&gt;{&#34;x&#34;:{&#34;word&#34;:[&#34;manager&#34;,&#34;officer&#34;,&#34;operator&#34;,&#34;trainee&#34;,&#34;apprentice&#34;,&#34;worker&#34;,&#34;assistant&#34;,&#34;technician&#34;,&#34;engineer&#34;,&#34;consultant&#34;,&#34;clerk&#34;,&#34;farm&#34;,&#34;labourer&#34;,&#34;hand&#34;,&#34;nurse&#34;,&#34;maker&#34;,&#34;driver&#34;,&#34;teacher&#34;,&#34;director&#34;,&#34;attendant&#34;,&#34;medical&#34;,&#34;plant&#34;,&#34;machine&#34;,&#34;sales&#34;,&#34;retail&#34;,&#34;mechanic&#34;,&#34;salesperson&#34;,&#34;health&#34;,&#34;service&#34;,&#34;services&#34;,&#34;general&#34;,&#34;registered&#34;,&#34;business&#34;,&#34;public&#34;,&#34;specialist&#34;,&#34;engineering&#34;,&#34;television&#34;,&#34;analyst&#34;,&#34;administrator&#34;,&#34;employee&#34;,&#34;care&#34;,&#34;school&#34;,&#34;electrical&#34;,&#34;office&#34;,&#34;radio&#34;,&#34;representative&#34;,&#34;security&#34;,&#34;telecommunications&#34;,&#34;motor&#34;,&#34;senior&#34;,&#34;railway&#34;,&#34;designer&#34;,&#34;repairer&#34;,&#34;vehicle&#34;,&#34;industrial&#34;,&#34;financial&#34;,&#34;air&#34;,&#34;force&#34;,&#34;investigator&#34;,&#34;metal&#34;,&#34;building&#34;,&#34;car&#34;,&#34;factory&#34;,&#34;company&#34;,&#34;products&#34;,&#34;agent&#34;,&#34;aircraft&#34;,&#34;controller&#34;,&#34;wood&#34;,&#34;junior&#34;,&#34;adviser&#34;,&#34;bus&#34;,&#34;shop&#34;,&#34;fitter&#34;,&#34;cleaner&#34;,&#34;secretary&#34;,&#34;practice&#34;,&#34;servant&#34;,&#34;planner&#34;,&#34;mechanical&#34;,&#34;personnel&#34;,&#34;mining&#34;,&#34;maintenance&#34;,&#34;transport&#34;,&#34;programmer&#34;,&#34;cook&#34;,&#34;food&#34;,&#34;support&#34;,&#34;guard&#34;,&#34;development&#34;,&#34;furniture&#34;,&#34;construction&#34;,&#34;supervisor&#34;,&#34;goods&#34;,&#34;processing&#34;,&#34;fire&#34;,&#34;meat&#34;,&#34;bank&#34;,&#34;administrative&#34;,&#34;levels&#34;,&#34;plumber&#34;,&#34;noncommissioned&#34;,&#34;steward&#34;,&#34;cutter&#34;,&#34;systems&#34;,&#34;trades&#34;,&#34;painter&#34;,&#34;estate&#34;,&#34;real&#34;,&#34;technical&#34;,&#34;hotel&#34;,&#34;professional&#34;,&#34;rep&#34;,&#34;concrete&#34;,&#34;executive&#34;,&#34;servicer&#34;,&#34;process&#34;,&#34;accountant&#34;,&#34;legal&#34;,&#34;travel&#34;,&#34;army&#34;,&#34;gardener&#34;,&#34;stage&#34;,&#34;train&#34;,&#34;marketing&#34;,&#34;video&#34;,&#34;station&#34;,&#34;civil&#34;,&#34;truck&#34;,&#34;paper&#34;,&#34;finance&#34;,&#34;project&#34;,&#34;defence&#34;,&#34;cinema&#34;,&#34;welder&#34;,&#34;door&#34;,&#34;fabricator&#34;,&#34;park&#34;,&#34;window&#34;,&#34;computer&#34;,&#34;computing&#34;,&#34;electrician&#34;,&#34;miner&#34;,&#34;wholesale&#34;,&#34;motel&#34;,&#34;taxi&#34;,&#34;governess&#34;,&#34;commercial&#34;,&#34;police&#34;,&#34;communications&#34;,&#34;corporate&#34;,&#34;turner&#34;,&#34;market&#34;,&#34;architectural&#34;,&#34;veterinary&#34;,&#34;program&#34;,&#34;die&#34;,&#34;removalist&#34;,&#34;carpenter&#34;,&#34;joiner&#34;,&#34;chef&#34;,&#34;drink&#34;,&#34;architect&#34;,&#34;art&#34;,&#34;casino&#34;,&#34;chief&#34;,&#34;product&#34;,&#34;tax&#34;,&#34;special&#34;,&#34;electronic&#34;,&#34;horticulturist&#34;,&#34;teaching&#34;,&#34;level&#34;,&#34;university&#34;,&#34;selling&#34;,&#34;key&#34;,&#34;amusement&#34;,&#34;bricklayer&#34;,&#34;garden&#34;,&#34;storeperson&#34;,&#34;watch&#34;,&#34;rail&#34;,&#34;bar&#34;,&#34;boiler&#34;,&#34;engine&#34;,&#34;post&#34;,&#34;café&#34;,&#34;canteen&#34;,&#34;layer&#34;,&#34;van&#34;,&#34;host&#34;,&#34;paint&#34;,&#34;deputy&#34;,&#34;high&#34;,&#34;customer&#34;,&#34;account&#34;,&#34;mixer&#34;,&#34;person&#34;,&#34;lift&#34;,&#34;oil&#34;,&#34;rig&#34;,&#34;room&#34;,&#34;deliverer&#34;,&#34;delivery&#34;,&#34;pizza&#34;,&#34;waiter&#34;,&#34;earthmoving&#34;,&#34;appliances&#34;,&#34;order&#34;,&#34;garage&#34;,&#34;secondary&#34;,&#34;law&#34;,&#34;mine&#34;,&#34;night&#34;,&#34;studio&#34;,&#34;software&#34;,&#34;warehouse&#34;,&#34;chartered&#34;,&#34;accounting&#34;,&#34;actor&#34;,&#34;administration&#34;,&#34;noncommi&#34;,&#34;control&#34;,&#34;arc&#34;,&#34;asbestos&#34;,&#34;rides&#34;,&#34;sport&#34;,&#34;craft&#34;,&#34;line&#34;,&#34;bartender&#34;,&#34;end&#34;,&#34;boilermaker&#34;,&#34;bottle&#34;,&#34;cosmetician&#34;,&#34;deli&#34;,&#34;gen&#34;,&#34;brick&#34;,&#34;bricklayer’s&#34;,&#34;cab&#34;,&#34;wash&#34;,&#34;charter&#34;,&#34;managing&#34;,&#34;reg&#34;,&#34;client&#34;,&#34;fabric&#34;,&#34;coal&#34;,&#34;opal&#34;,&#34;prospector&#34;,&#34;commission&#34;,&#34;nontechnical&#34;,&#34;traveller&#34;,&#34;commissioned&#34;,&#34;lorry&#34;,&#34;semitrailer&#34;,&#34;contruction&#34;,&#34;taxitruck&#34;,&#34;dishwasher&#34;,&#34;kitchen&#34;,&#34;sandwich&#34;,&#34;beverage&#34;,&#34;dining&#34;,&#34;waitress&#34;,&#34;earth&#34;,&#34;appliance&#34;,&#34;fence&#34;,&#34;iron&#34;,&#34;forklift&#34;,&#34;petrol&#34;,&#34;ward&#34;,&#34;house&#34;,&#34;lay&#34;,&#34;rag&#34;,&#34;diesel&#34;,&#34;patrol&#34;,&#34;watchperson&#34;,&#34;listed&#34;,&#34;occupation&#34;,&#34;opera&#34;,&#34;pet&#34;,&#34;store&#34;,&#34;roller&#34;,&#34;sign&#34;,&#34;ski&#34;,&#34;stagehand&#34;,&#34;state&#34;,&#34;vision&#34;],&#34;freq&#34;:[785948,499373,176106,185235,101708,352776,526953,128747,298383,118814,167815,68150,175709,241963,37749,131626,279856,115756,233880,154841,56932,87168,55794,350724,253542,275316,165622,30599,319640,66171,612043,27966,87690,199070,32372,64482,29176,144724,93729,88727,38225,142027,145857,682841,32483,68967,47192,31273,123959,30897,57747,33496,125458,44541,34438,125002,251890,44333,49919,84267,131698,171308,34294,96220,29866,67241,33206,62049,34069,31351,28585,140548,187374,195080,53121,131956,47297,182790,28895,51349,58309,61720,42679,171016,34675,37808,146112,42538,55309,55889,28433,122444,62906,69413,32719,36836,26884,110703,53062,53062,58441,31383,30218,33989,60838,115225,30128,27652,27652,59217,49887,39244,371197,170302,132264,119365,56762,80050,50920,48170,44333,31458,85253,213810,109334,25679,35605,37753,193417,30976,38825,98219,37739,87154,32608,81946,76492,35774,76474,69461,34178,131125,37973,46649,47279,35834,75687,95349,45278,36933,144924,29436,129656,66412,46758,87577,46444,33263,85102,35283,83033,108914,78984,191128,28050,117270,48882,38817,34353,25613,29595,75504,145938,31171,86995,52926,27857,54220,41101,111953,33487,203234,48229,48828,301420,96639,25609,25609,60462,227567,36878,39862,120721,54348,45057,189638,143811,437781,42413,73952,68707,27047,33398,42501,47523,25759,46742,98555,34145,56526,53848,33724,46881,44248,81952,30620,132030,77112,46486,47819,36889,31383,62049,96693,27601,27601,193883,33985,54302,29291,209834,47845,83084,83084,126146,709759,55464,45001,25768,47359,77919,111813,46285,31066,85111,36613,36613,36613,76909,43349,43349,32986,143209,143209,38985,32837,36406,36406,36406,25759,25759,25759,50709,98555,41294,27517,30904,64334,51831,161257,66318,110145,34902,33171,33171,139939,159537,180086,69325,159737,62487,37952,30670,81828,27665,29176],&#34;fontFamily&#34;:&#34;Space Mono&#34;,&#34;fontWeight&#34;:&#34;bold&#34;,&#34;color&#34;:[&#34;#4153EF&#34;,&#34;#4153EF&#34;,&#34;#747DD0&#34;,&#34;#DC4C4C&#34;,&#34;#CD6A6A&#34;,&#34;#B3A0A0&#34;,&#34;#C87575&#34;,&#34;#5261E4&#34;,&#34;#3E50F0&#34;,&#34;#5462E3&#34;,&#34;#C67878&#34;,&#34;#D75555&#34;,&#34;#B3A0A0&#34;,&#34;#D35E5E&#34;,&#34;#9297BD&#34;,&#34;#969ABA&#34;,&#34;#9EA1B5&#34;,&#34;#8087C8&#34;,&#34;#3145F9&#34;,&#34;#D75555&#34;,&#34;#364AF5&#34;,&#34;#4E5EE7&#34;,&#34;#9C9FB7&#34;,&#34;#868DC4&#34;,&#34;#BE8989&#34;,&#34;#606CDC&#34;,&#34;#D45D5D&#34;,&#34;#3448F7&#34;,&#34;#707AD2&#34;,&#34;#8087C8&#34;,&#34;#5A68DF&#34;,&#34;#848AC6&#34;,&#34;#4556EC&#34;,&#34;#3145F9&#34;,&#34;#3145F9&#34;,&#34;#394CF4&#34;,&#34;#727CD0&#34;,&#34;#3E50F0&#34;,&#34;#5866E1&#34;,&#34;#9297BD&#34;,&#34;#CB6F6F&#34;,&#34;#989BB9&#34;,&#34;#4959EA&#34;,&#34;#5563E2&#34;,&#34;#5563E2&#34;,&#34;#8A90C2&#34;,&#34;#ADACAC&#34;,&#34;#626FDA&#34;,&#34;#888EC3&#34;,&#34;#364AF5&#34;,&#34;#8087C8&#34;,&#34;#969ABA&#34;,&#34;#5462E3&#34;,&#34;#B49D9D&#34;,&#34;#4E5EE7&#34;,&#34;#3448F7&#34;,&#34;#6470D9&#34;,&#34;#606CDC&#34;,&#34;#4E5EE7&#34;,&#34;#727CD0&#34;,&#34;#6470D9&#34;,&#34;#ADACAC&#34;,&#34;#9A9DB8&#34;,&#34;#5C69DE&#34;,&#34;#717BD1&#34;,&#34;#6D78D4&#34;,&#34;#8A90C2&#34;,&#34;#5563E2&#34;,&#34;#8C91C1&#34;,&#34;#8289C6&#34;,&#34;#4153EF&#34;,&#34;#5866E1&#34;,&#34;#D16363&#34;,&#34;#5462E3&#34;,&#34;#E23E3E&#34;,&#34;#2E43FA&#34;,&#34;#364AF5&#34;,&#34;#3145F9&#34;,&#34;#4153EF&#34;,&#34;#4959EA&#34;,&#34;#5462E3&#34;,&#34;#3448F7&#34;,&#34;#5D6ADE&#34;,&#34;#888EC3&#34;,&#34;#4959EA&#34;,&#34;#F02323&#34;,&#34;#E63737&#34;,&#34;#A0A2B4&#34;,&#34;#ACACAD&#34;,&#34;#4858EB&#34;,&#34;#C18383&#34;,&#34;#5665E2&#34;,&#34;#6873D7&#34;,&#34;#9A9DB8&#34;,&#34;#5462E3&#34;,&#34;#4657EC&#34;,&#34;#D26060&#34;,&#34;#3A4DF3&#34;,&#34;#606CDC&#34;,&#34;#606CDC&#34;,&#34;#9A9DB8&#34;,&#34;#7880CD&#34;,&#34;#ED2929&#34;,&#34;#CB6E6E&#34;,&#34;#4556EC&#34;,&#34;#C08484&#34;,&#34;#BC8C8C&#34;,&#34;#4A5BE9&#34;,&#34;#4A5BE9&#34;,&#34;#717BD1&#34;,&#34;#D75555&#34;,&#34;#3A4DF3&#34;,&#34;#7E86C9&#34;,&#34;#8C91C1&#34;,&#34;#3044FA&#34;,&#34;#5261E4&#34;,&#34;#7E86C9&#34;,&#34;#3E50F0&#34;,&#34;#394CF4&#34;,&#34;#8188C7&#34;,&#34;#606CDC&#34;,&#34;#D16161&#34;,&#34;#CD6A6A&#34;,&#34;#CB6F6F&#34;,&#34;#4153EF&#34;,&#34;#7982CC&#34;,&#34;#DC4B4B&#34;,&#34;#3D4FF1&#34;,&#34;#9C9FB7&#34;,&#34;#AAABAE&#34;,&#34;#3549F6&#34;,&#34;#4254EE&#34;,&#34;#6571D9&#34;,&#34;#EA2F2F&#34;,&#34;#8087C8&#34;,&#34;#707AD2&#34;,&#34;#6974D6&#34;,&#34;#868DC4&#34;,&#34;#6A75D5&#34;,&#34;#505FE6&#34;,&#34;#4455ED&#34;,&#34;#5C69DE&#34;,&#34;#3549F6&#34;,&#34;#727CD0&#34;,&#34;#D75555&#34;,&#34;#DC4C4C&#34;,&#34;#707AD2&#34;,&#34;#B59B9B&#34;,&#34;#4E5EE7&#34;,&#34;#606CDC&#34;,&#34;#3448F7&#34;,&#34;#5C69DE&#34;,&#34;#4657EC&#34;,&#34;#4153EF&#34;,&#34;#364AF5&#34;,&#34;#6470D9&#34;,&#34;#606CDC&#34;,&#34;#9196BD&#34;,&#34;#AEA9A9&#34;,&#34;#C77777&#34;,&#34;#DA4F4F&#34;,&#34;#EE2626&#34;,&#34;#4254EE&#34;,&#34;#5D6ADE&#34;,&#34;#EB2E2E&#34;,&#34;#2E43FA&#34;,&#34;#5665E2&#34;,&#34;#D45B5B&#34;,&#34;#3145F9&#34;,&#34;#505FE6&#34;,&#34;#CC6C6C&#34;,&#34;#707AD2&#34;,&#34;#5A68DF&#34;,&#34;#4E5EE7&#34;,&#34;#E83232&#34;,&#34;#7A83CB&#34;,&#34;#7E86C9&#34;,&#34;#BC8C8C&#34;,&#34;#D65858&#34;,&#34;#C87474&#34;,&#34;#BA9292&#34;,&#34;#898FC2&#34;,&#34;#EA2F2F&#34;,&#34;#5E6BDD&#34;,&#34;#3E50F0&#34;,&#34;#E33D3D&#34;,&#34;#D16161&#34;,&#34;#D16161&#34;,&#34;#B59B9B&#34;,&#34;#3448F7&#34;,&#34;#F02323&#34;,&#34;#A6A7B0&#34;,&#34;#2E43FA&#34;,&#34;#6A75D5&#34;,&#34;#9EA1B5&#34;,&#34;#4556EC&#34;,&#34;#8C91C1&#34;,&#34;#B59B9B&#34;,&#34;#868DC4&#34;,&#34;#5462E3&#34;,&#34;#4E5EE7&#34;,&#34;#F41C1C&#34;,&#34;#DC4C4C&#34;,&#34;#D45D5D&#34;,&#34;#E83232&#34;,&#34;#F41A1A&#34;,&#34;#606CDC&#34;,&#34;#4E5EE7&#34;,&#34;#EA2F2F&#34;,&#34;#B1A4A4&#34;,&#34;#6A75D5&#34;,&#34;#3E50F0&#34;,&#34;#3448F7&#34;,&#34;#C87575&#34;,&#34;#D16363&#34;,&#34;#4A5BE9&#34;,&#34;#C08484&#34;,&#34;#3E50F0&#34;,&#34;#364AF5&#34;,&#34;#ADACAC&#34;,&#34;#C67878&#34;,&#34;#7880CD&#34;,&#34;#5563E2&#34;,&#34;#4556EC&#34;,&#34;#7D85CA&#34;,&#34;#7D85CA&#34;,&#34;#717BD1&#34;,&#34;#8C91C1&#34;,&#34;#9DA0B6&#34;,&#34;#EE2828&#34;,&#34;#D35E5E&#34;,&#34;#5E6BDD&#34;,&#34;#EB2E2E&#34;,&#34;#EB2E2E&#34;,&#34;#E23E3E&#34;,&#34;#5A68DF&#34;,&#34;#BC8C8C&#34;,&#34;#BB8F8F&#34;,&#34;#B89595&#34;,&#34;#F51919&#34;,&#34;#3E50F0&#34;,&#34;#2E43FA&#34;,&#34;#7880CD&#34;,&#34;#989BB9&#34;,&#34;#727CD0&#34;,&#34;#3549F6&#34;,&#34;#3549F6&#34;,&#34;#3549F6&#34;,&#34;#767FCE&#34;,&#34;#7E86C9&#34;,&#34;#7E86C9&#34;,&#34;#717BD1&#34;,&#34;#8C91C1&#34;,&#34;#8C91C1&#34;,&#34;#3D4FF1&#34;,&#34;#DC4C4C&#34;,&#34;#F71616&#34;,&#34;#F71616&#34;,&#34;#F71616&#34;,&#34;#F41A1A&#34;,&#34;#F41A1A&#34;,&#34;#F41A1A&#34;,&#34;#626FDA&#34;,&#34;#4E5EE7&#34;,&#34;#6C76D4&#34;,&#34;#626FDA&#34;,&#34;#B79696&#34;,&#34;#898FC2&#34;,&#34;#D16363&#34;,&#34;#C57B7B&#34;,&#34;#B79898&#34;,&#34;#C97272&#34;,&#34;#5261E4&#34;,&#34;#BA9292&#34;,&#34;#BA9292&#34;,&#34;#AEAAAA&#34;,&#34;#8188C7&#34;,&#34;#747DD0&#34;,&#34;#8C91C1&#34;,&#34;#BE8989&#34;,&#34;#5665E2&#34;,&#34;#999CB8&#34;,&#34;#BC8C8C&#34;,&#34;#D16363&#34;,&#34;#4A5BE9&#34;,&#34;#727CD0&#34;],&#34;minSize&#34;:0,&#34;weightFactor&#34;:0.000114511392611216,&#34;backgroundColor&#34;:&#34;black&#34;,&#34;gridSize&#34;:0,&#34;minRotation&#34;:-0.785398163397448,&#34;maxRotation&#34;:0.785398163397448,&#34;shuffle&#34;:false,&#34;rotateRatio&#34;:0.4,&#34;shape&#34;:&#34;circle&#34;,&#34;ellipticity&#34;:0.65,&#34;figBase64&#34;:null,&#34;hover&#34;:null},&#34;evals&#34;:[],&#34;jsHooks&#34;:{&#34;render&#34;:[{&#34;code&#34;:&#34;function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }&#34;,&#34;data&#34;:null}]}}&lt;/script&gt;
&lt;/div&gt;
&lt;div class=&#34;col-md-6 px-0&#34;&gt;
&lt;h3 id=&#34;women&#34;&gt;Women&lt;/h3&gt;
&lt;div id=&#34;htmlwidget-4&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;wordcloud2 html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-4&#34;&gt;{&#34;x&#34;:{&#34;word&#34;:[&#34;manager&#34;,&#34;officer&#34;,&#34;operator&#34;,&#34;trainee&#34;,&#34;apprentice&#34;,&#34;worker&#34;,&#34;assistant&#34;,&#34;technician&#34;,&#34;engineer&#34;,&#34;consultant&#34;,&#34;clerk&#34;,&#34;farm&#34;,&#34;labourer&#34;,&#34;hand&#34;,&#34;nurse&#34;,&#34;driver&#34;,&#34;maker&#34;,&#34;teacher&#34;,&#34;director&#34;,&#34;attendant&#34;,&#34;centre&#34;,&#34;medical&#34;,&#34;sales&#34;,&#34;retail&#34;,&#34;salesperson&#34;,&#34;health&#34;,&#34;service&#34;,&#34;services&#34;,&#34;general&#34;,&#34;registered&#34;,&#34;business&#34;,&#34;public&#34;,&#34;specialist&#34;,&#34;analyst&#34;,&#34;administrator&#34;,&#34;employee&#34;,&#34;care&#34;,&#34;insurance&#34;,&#34;school&#34;,&#34;office&#34;,&#34;instructor&#34;,&#34;representative&#34;,&#34;registrar&#34;,&#34;scientist&#34;,&#34;senior&#34;,&#34;designer&#34;,&#34;industrial&#34;,&#34;financial&#34;,&#34;air&#34;,&#34;investigator&#34;,&#34;car&#34;,&#34;company&#34;,&#34;sports&#34;,&#34;agent&#34;,&#34;aircraft&#34;,&#34;controller&#34;,&#34;therapist&#34;,&#34;relations&#34;,&#34;call&#34;,&#34;contact&#34;,&#34;artist&#34;,&#34;adviser&#34;,&#34;bus&#34;,&#34;shop&#34;,&#34;cleaner&#34;,&#34;secretary&#34;,&#34;fruit&#34;,&#34;education&#34;,&#34;practice&#34;,&#34;servant&#34;,&#34;personnel&#34;,&#34;cook&#34;,&#34;food&#34;,&#34;support&#34;,&#34;development&#34;,&#34;supervisor&#34;,&#34;goods&#34;,&#34;child&#34;,&#34;processing&#34;,&#34;dental&#34;,&#34;bank&#34;,&#34;administrative&#34;,&#34;levels&#34;,&#34;steward&#34;,&#34;cutter&#34;,&#34;estate&#34;,&#34;real&#34;,&#34;technical&#34;,&#34;hotel&#34;,&#34;rep&#34;,&#34;executive&#34;,&#34;packer&#34;,&#34;clinical&#34;,&#34;process&#34;,&#34;accountant&#34;,&#34;legal&#34;,&#34;clerical&#34;,&#34;travel&#34;,&#34;airline&#34;,&#34;animal&#34;,&#34;train&#34;,&#34;agency&#34;,&#34;nursing&#34;,&#34;marketing&#34;,&#34;detailer&#34;,&#34;station&#34;,&#34;research&#34;,&#34;aide&#34;,&#34;laboratory&#34;,&#34;personal&#34;,&#34;finance&#34;,&#34;project&#34;,&#34;cinema&#34;,&#34;beauty&#34;,&#34;community&#34;,&#34;wholesale&#34;,&#34;motel&#34;,&#34;calls&#34;,&#34;governess&#34;,&#34;practitioner&#34;,&#34;commercial&#34;,&#34;police&#34;,&#34;policy&#34;,&#34;corporate&#34;,&#34;human&#34;,&#34;occupational&#34;,&#34;data&#34;,&#34;market&#34;,&#34;receptionist&#34;,&#34;architectural&#34;,&#34;veterinary&#34;,&#34;program&#34;,&#34;media&#34;,&#34;die&#34;,&#34;chef&#34;,&#34;drink&#34;,&#34;dresser&#34;,&#34;hair&#34;,&#34;graphic&#34;,&#34;architect&#34;,&#34;art&#34;,&#34;hairdresser&#34;,&#34;casino&#34;,&#34;chief&#34;,&#34;product&#34;,&#34;domestic&#34;,&#34;recruitment&#34;,&#34;special&#34;,&#34;emergency&#34;,&#34;resource&#34;,&#34;student&#34;,&#34;social&#34;,&#34;teaching&#34;,&#34;level&#34;,&#34;primary&#34;,&#34;university&#34;,&#34;household&#34;,&#34;aged&#34;,&#34;carer&#34;,&#34;home&#34;,&#34;seller&#34;,&#34;selling&#34;,&#34;key&#34;,&#34;hospitality&#34;,&#34;storeperson&#34;,&#34;rail&#34;,&#34;credit&#34;,&#34;bar&#34;,&#34;engine&#34;,&#34;book&#34;,&#34;post&#34;,&#34;café&#34;,&#34;canteen&#34;,&#34;inbound&#34;,&#34;van&#34;,&#34;cashier&#34;,&#34;host&#34;,&#34;chemist&#34;,&#34;pharmacy&#34;,&#34;deputy&#34;,&#34;high&#34;,&#34;customer&#34;,&#34;account&#34;,&#34;workers&#34;,&#34;person&#34;,&#34;room&#34;,&#34;waiter&#34;,&#34;order&#34;,&#34;first&#34;,&#34;kindergarten&#34;,&#34;preschool&#34;,&#34;secondary&#34;,&#34;hospital&#34;,&#34;housekeeper&#34;,&#34;law&#34;,&#34;stenographer&#34;,&#34;warehouse&#34;,&#34;tutor&#34;,&#34;chartered&#34;,&#34;accounting&#34;,&#34;accounts&#34;,&#34;actor&#34;,&#34;administration&#34;,&#34;companion&#34;,&#34;disabled&#34;,&#34;respite&#34;,&#34;control&#34;,&#34;check&#34;,&#34;arc&#34;,&#34;sport&#34;,&#34;craft&#34;,&#34;line&#34;,&#34;etc&#34;,&#34;teller&#34;,&#34;union&#34;,&#34;barber&#34;,&#34;ladies’&#34;,&#34;men’s&#34;,&#34;bartender&#34;,&#34;beautician&#34;,&#34;manicurist&#34;,&#34;end&#34;,&#34;bookkeeper&#34;,&#34;bottle&#34;,&#34;cosmetician&#34;,&#34;deli&#34;,&#34;gen&#34;,&#34;keeper&#34;,&#34;caterer&#34;,&#34;restaurant&#34;,&#34;cafeteria&#34;,&#34;snack&#34;,&#34;wash&#34;,&#34;cash&#34;,&#34;cage&#34;,&#34;charter&#34;,&#34;checkout&#34;,&#34;console&#34;,&#34;managing&#34;,&#34;creche&#34;,&#34;chimney&#34;,&#34;sweep&#34;,&#34;coding&#34;,&#34;exam&#34;,&#34;reg&#34;,&#34;client&#34;,&#34;commission&#34;,&#34;nontechnical&#34;,&#34;traveller&#34;,&#34;skilled&#34;,&#34;dishwasher&#34;,&#34;kitchen&#34;,&#34;sandwich&#34;,&#34;beverage&#34;,&#34;dining&#34;,&#34;waitress&#34;,&#34;aid&#34;,&#34;preprimary&#34;,&#34;infant&#34;,&#34;ward&#34;,&#34;house&#34;,&#34;lawyer&#34;,&#34;solicitor&#34;,&#34;mail&#34;,&#34;rag&#34;,&#34;midwife&#34;,&#34;sister&#34;,&#34;listed&#34;,&#34;occupation&#34;,&#34;opera&#34;,&#34;physio&#34;,&#34;assitant&#34;,&#34;planning&#34;,&#34;lecturer&#34;,&#34;professor&#34;,&#34;property&#34;,&#34;mental&#34;,&#34;store&#34;,&#34;roller&#34;,&#34;teacher’s&#34;,&#34;sign&#34;,&#34;ski&#34;,&#34;state&#34;,&#34;tab&#34;],&#34;freq&#34;:[672927,551488,105958,214263,21850,622680,839558,37221,29225,200573,413444,22963,29470,113067,315130,17032,25057,379973,124573,321402,46608,157227,430342,383451,283676,57807,372830,111556,455174,236194,105940,219444,34435,118295,257932,89261,294717,21760,460131,1296214,23001,53145,42366,19403,19312,31609,24912,109133,96070,18723,302760,56747,22843,63762,22433,29827,57895,32992,35519,35372,18355,22901,113968,328175,93374,149120,18700,37290,36650,194788,51858,37772,290010,45479,91012,94576,55412,115253,29292,28888,137037,135371,135371,86998,18764,33607,33607,36658,75677,141556,106079,23703,103142,39556,81049,57690,18107,51191,20320,21023,231444,22151,125190,79616,22100,48483,16798,185494,20421,80018,96908,74038,199554,22105,34341,33547,73850,24092,236656,39491,125592,15690,22424,76182,47636,27067,18091,102082,112685,32368,37618,114742,34890,34991,33065,270070,33845,39027,15818,37968,170200,30011,69408,43185,17475,16036,30308,44877,16278,47636,111974,30385,232187,365752,147480,27049,19884,142050,103676,103818,48754,205190,42229,18505,21912,18486,55614,104687,29253,43704,198069,51675,51675,19043,201216,50688,97160,39474,34413,42206,86646,62431,224200,15777,432566,80557,78294,40695,17739,23967,23967,85662,27885,22877,37643,34137,24148,21895,78380,28263,81718,15847,293738,103676,103676,103676,29827,45743,55851,34395,23531,32263,50140,50140,50140,30011,30011,30011,33993,16399,16399,357519,35447,191711,191711,198669,558134,59834,28659,28659,23016,23016,47200,50777,50688,78477,39653,39653,41895,90620,20543,20552,26526,27094,285513,57577,37591,32055,32055,17541,45671,45671,45671,78294,78294,78294,185711,19328,127197,98452,67528,27816,27816,15609,94891,16827,96825,128239,155306,112024,16754,17522,17522,18736,18736,18088,19745,73541,29857,63803,32039,21940,33616,18750],&#34;fontFamily&#34;:&#34;Space Mono&#34;,&#34;fontWeight&#34;:&#34;bold&#34;,&#34;color&#34;:[&#34;#8A90C2&#34;,&#34;#A1A3B4&#34;,&#34;#DF4545&#34;,&#34;#EE2828&#34;,&#34;#D45D5D&#34;,&#34;#DB4E4E&#34;,&#34;#DC4B4B&#34;,&#34;#B89595&#34;,&#34;#5A68DF&#34;,&#34;#A8A9AF&#34;,&#34;#DB4E4E&#34;,&#34;#F02323&#34;,&#34;#DE4848&#34;,&#34;#EE2828&#34;,&#34;#B49E9E&#34;,&#34;#B79898&#34;,&#34;#E83232&#34;,&#34;#ADACAC&#34;,&#34;#4E5EE7&#34;,&#34;#EB2C2C&#34;,&#34;#CB6F6F&#34;,&#34;#999CB8&#34;,&#34;#D95252&#34;,&#34;#E24040&#34;,&#34;#ED2929&#34;,&#34;#717BD1&#34;,&#34;#C28080&#34;,&#34;#D65858&#34;,&#34;#C57B7B&#34;,&#34;#ACACAD&#34;,&#34;#999CB8&#34;,&#34;#606CDC&#34;,&#34;#5462E3&#34;,&#34;#6470D9&#34;,&#34;#A9AAAF&#34;,&#34;#C47D7D&#34;,&#34;#DF4646&#34;,&#34;#A2A4B3&#34;,&#34;#B79696&#34;,&#34;#C08484&#34;,&#34;#EF2525&#34;,&#34;#D06464&#34;,&#34;#CB6F6F&#34;,&#34;#868DC4&#34;,&#34;#4052F0&#34;,&#34;#C28080&#34;,&#34;#4A5BE9&#34;,&#34;#5C69DE&#34;,&#34;#D95151&#34;,&#34;#6D78D4&#34;,&#34;#DE4848&#34;,&#34;#9EA1B5&#34;,&#34;#5967E0&#34;,&#34;#BA9292&#34;,&#34;#E33D3D&#34;,&#34;#8087C8&#34;,&#34;#C87474&#34;,&#34;#505FE6&#34;,&#34;#D55A5A&#34;,&#34;#D55A5A&#34;,&#34;#CB6F6F&#34;,&#34;#707AD2&#34;,&#34;#9DA0B6&#34;,&#34;#EA2F2F&#34;,&#34;#EE2828&#34;,&#34;#6A75D5&#34;,&#34;#F71616&#34;,&#34;#A9AAAF&#34;,&#34;#6974D6&#34;,&#34;#6571D9&#34;,&#34;#6571D9&#34;,&#34;#F02323&#34;,&#34;#F12020&#34;,&#34;#D75757&#34;,&#34;#A5A6B1&#34;,&#34;#E24040&#34;,&#34;#CE6767&#34;,&#34;#E23E3E&#34;,&#34;#AEAAAA&#34;,&#34;#D75555&#34;,&#34;#7E86C9&#34;,&#34;#9EA1B5&#34;,&#34;#9EA1B5&#34;,&#34;#F41C1C&#34;,&#34;#E33D3D&#34;,&#34;#ACACAD&#34;,&#34;#ACACAD&#34;,&#34;#B79696&#34;,&#34;#E83232&#34;,&#34;#C67878&#34;,&#34;#4C5CE8&#34;,&#34;#ED2929&#34;,&#34;#A8A9AF&#34;,&#34;#BA9090&#34;,&#34;#6C76D4&#34;,&#34;#8A90C2&#34;,&#34;#C47D7D&#34;,&#34;#BF8787&#34;,&#34;#C28181&#34;,&#34;#E83232&#34;,&#34;#E93131&#34;,&#34;#4556EC&#34;,&#34;#B3A0A0&#34;,&#34;#717BD1&#34;,&#34;#E83232&#34;,&#34;#F21F1F&#34;,&#34;#8E93BF&#34;,&#34;#E83434&#34;,&#34;#AEA9A9&#34;,&#34;#C97272&#34;,&#34;#ACACAD&#34;,&#34;#767FCE&#34;,&#34;#EF2525&#34;,&#34;#ED2929&#34;,&#34;#D16363&#34;,&#34;#B79696&#34;,&#34;#EA2F2F&#34;,&#34;#DD4949&#34;,&#34;#9A9DB8&#34;,&#34;#4A5BE9&#34;,&#34;#DE4848&#34;,&#34;#6873D7&#34;,&#34;#4254EE&#34;,&#34;#5866E1&#34;,&#34;#626FDA&#34;,&#34;#5866E1&#34;,&#34;#9498BC&#34;,&#34;#888EC3&#34;,&#34;#DE4848&#34;,&#34;#6873D7&#34;,&#34;#7A83CB&#34;,&#34;#B3A0A0&#34;,&#34;#A8A9AF&#34;,&#34;#E53A3A&#34;,&#34;#EA2F2F&#34;,&#34;#F21F1F&#34;,&#34;#ED2929&#34;,&#34;#ED2929&#34;,&#34;#C37E7E&#34;,&#34;#6C76D4&#34;,&#34;#ACACAD&#34;,&#34;#EB2E2E&#34;,&#34;#F31D1D&#34;,&#34;#364AF5&#34;,&#34;#999CB8&#34;,&#34;#EE2828&#34;,&#34;#868DC4&#34;,&#34;#606CDC&#34;,&#34;#8087C8&#34;,&#34;#626FDA&#34;,&#34;#B1A4A4&#34;,&#34;#B3A0A0&#34;,&#34;#989BB9&#34;,&#34;#8D92C0&#34;,&#34;#A4A5B2&#34;,&#34;#7880CD&#34;,&#34;#ED2929&#34;,&#34;#DF4545&#34;,&#34;#E83232&#34;,&#34;#E83232&#34;,&#34;#EB2C2C&#34;,&#34;#EE2828&#34;,&#34;#C28181&#34;,&#34;#E83232&#34;,&#34;#DD4949&#34;,&#34;#B69A9A&#34;,&#34;#B1A3A3&#34;,&#34;#F12222&#34;,&#34;#5A68DF&#34;,&#34;#C87474&#34;,&#34;#EE2626&#34;,&#34;#E83232&#34;,&#34;#E83232&#34;,&#34;#D75555&#34;,&#34;#6873D7&#34;,&#34;#F51919&#34;,&#34;#F41A1A&#34;,&#34;#DE4848&#34;,&#34;#EA2F2F&#34;,&#34;#3549F6&#34;,&#34;#858CC5&#34;,&#34;#C08484&#34;,&#34;#9599BB&#34;,&#34;#C08484&#34;,&#34;#D85454&#34;,&#34;#F61717&#34;,&#34;#F61717&#34;,&#34;#ED2929&#34;,&#34;#4052F0&#34;,&#34;#CC6C6C&#34;,&#34;#CC6C6C&#34;,&#34;#858CC5&#34;,&#34;#DC4B4B&#34;,&#34;#F02323&#34;,&#34;#4E5EE7&#34;,&#34;#B79898&#34;,&#34;#DB4E4E&#34;,&#34;#CB6E6E&#34;,&#34;#6D78D4&#34;,&#34;#5D6ADE&#34;,&#34;#C18383&#34;,&#34;#DD4949&#34;,&#34;#CC6C6C&#34;,&#34;#E83232&#34;,&#34;#E83232&#34;,&#34;#E83232&#34;,&#34;#8087C8&#34;,&#34;#F12020&#34;,&#34;#767FCE&#34;,&#34;#6873D7&#34;,&#34;#E33D3D&#34;,&#34;#D06464&#34;,&#34;#B2A1A1&#34;,&#34;#B2A1A1&#34;,&#34;#B2A1A1&#34;,&#34;#EB2E2E&#34;,&#34;#EB2E2E&#34;,&#34;#EB2E2E&#34;,&#34;#F02323&#34;,&#34;#ED2929&#34;,&#34;#ED2929&#34;,&#34;#EB2C2C&#34;,&#34;#C77777&#34;,&#34;#EF2525&#34;,&#34;#EF2525&#34;,&#34;#EF2525&#34;,&#34;#BC8C8C&#34;,&#34;#DA4F4F&#34;,&#34;#D95151&#34;,&#34;#D95151&#34;,&#34;#F51919&#34;,&#34;#F51919&#34;,&#34;#F31D1D&#34;,&#34;#F51919&#34;,&#34;#F51919&#34;,&#34;#6D78D4&#34;,&#34;#F41C1C&#34;,&#34;#F41C1C&#34;,&#34;#3549F6&#34;,&#34;#E83232&#34;,&#34;#E83232&#34;,&#34;#E83232&#34;,&#34;#C28080&#34;,&#34;#C28181&#34;,&#34;#B0A6A6&#34;,&#34;#C08484&#34;,&#34;#B79898&#34;,&#34;#BC8C8C&#34;,&#34;#BC8C8C&#34;,&#34;#E93131&#34;,&#34;#F31D1D&#34;,&#34;#F31D1D&#34;,&#34;#F31D1D&#34;,&#34;#F61717&#34;,&#34;#F61717&#34;,&#34;#F61717&#34;,&#34;#E83434&#34;,&#34;#C18383&#34;,&#34;#9DA0B6&#34;,&#34;#F12222&#34;,&#34;#E83232&#34;,&#34;#4153EF&#34;,&#34;#4153EF&#34;,&#34;#DF4545&#34;,&#34;#F41C1C&#34;,&#34;#A0A2B4&#34;,&#34;#ACACAD&#34;,&#34;#DC4B4B&#34;,&#34;#C87575&#34;,&#34;#DD4949&#34;,&#34;#ACACAD&#34;,&#34;#3E50F0&#34;,&#34;#3E50F0&#34;,&#34;#505FE6&#34;,&#34;#505FE6&#34;,&#34;#BC8C8C&#34;,&#34;#767FCE&#34;,&#34;#D26060&#34;,&#34;#8087C8&#34;,&#34;#E53838&#34;,&#34;#C28080&#34;,&#34;#DD4949&#34;,&#34;#ACACAD&#34;,&#34;#ED2929&#34;],&#34;minSize&#34;:0,&#34;weightFactor&#34;:6.94329794308656e-05,&#34;backgroundColor&#34;:&#34;black&#34;,&#34;gridSize&#34;:0,&#34;minRotation&#34;:-0.785398163397448,&#34;maxRotation&#34;:0.785398163397448,&#34;shuffle&#34;:false,&#34;rotateRatio&#34;:0.4,&#34;shape&#34;:&#34;circle&#34;,&#34;ellipticity&#34;:0.65,&#34;figBase64&#34;:null,&#34;hover&#34;:null},&#34;evals&#34;:[],&#34;jsHooks&#34;:{&#34;render&#34;:[{&#34;code&#34;:&#34;function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }&#34;,&#34;data&#34;:null}]}}&lt;/script&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&#34;/post/2018/05/2018-05-02-wordcloud_files/figure-html/legend_final-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;It’s important to emphasize that the focus of this post is to provide a way
to analyze this data. I’m a statistician and professionals from other areas
probably can draw more accurate conclusions about this visualization.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>My first #TidyTuesday - A world map GIF</title>
      <link>/post/2018/04/2018-04-13-world_map_gig/</link>
      <pubDate>Tue, 24 Apr 2018 00:00:00 +0000</pubDate>
      <guid>/post/2018/04/2018-04-13-world_map_gig/</guid>
      <description>

&lt;h2 id=&#34;about-tidytuesday&#34;&gt;About TidyTuesday&lt;/h2&gt;

&lt;p&gt;Tidy Tuesday is a nice initiative from the &lt;a href=&#34;https://twitter.com/R4DScommunity&#34; target=&#34;_blank&#34;&gt;R4DS online community&lt;/a&gt;.
The goal is is to apply your R skills, get feedback, explore other’s work, and connect with the
greater RStats community.&lt;br /&gt;
It&amp;rsquo;s also my blogging motivation.&lt;/p&gt;

&lt;h2 id=&#34;the-challenge&#34;&gt;The challenge&lt;/h2&gt;

&lt;p&gt;This post is about the following challenge&lt;/p&gt;

&lt;p&gt;&lt;!--html_preserve--&gt;&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/hashtag/r4ds?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#r4ds&lt;/a&gt; presents Week 3 of &lt;a href=&#34;https://twitter.com/hashtag/TidyTuesday?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#TidyTuesday&lt;/a&gt;! Let&amp;#39;s explore global causes of mortality!&lt;br&gt;&lt;br&gt;Make a meaningful graphic, and post your code!&lt;br&gt;&lt;br&gt;Data: &lt;a href=&#34;https://t.co/ygKv8PqOfI&#34;&gt;https://t.co/ygKv8PqOfI&lt;/a&gt;&lt;br&gt;Article: &lt;a href=&#34;https://t.co/MOnlCBzdaL&#34;&gt;https://t.co/MOnlCBzdaL&lt;/a&gt;&lt;br&gt;Blog: &lt;a href=&#34;https://t.co/cZJ94Hhz7U&#34;&gt;https://t.co/cZJ94Hhz7U&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/tidyverse?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#tidyverse&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/dataviz?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#dataviz&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/ggplot2?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ggplot2&lt;/a&gt; &lt;a href=&#34;https://twitter.com/R4DScommunity?ref_src=twsrc%5Etfw&#34;&gt;@R4DScommunity&lt;/a&gt; &lt;a href=&#34;https://t.co/52rktsOcSQ&#34;&gt;pic.twitter.com/52rktsOcSQ&lt;/a&gt;&lt;/p&gt;&amp;mdash; Tom Mock (@thomas_mock) &lt;a href=&#34;https://twitter.com/thomas_mock/status/985864534832402432?ref_src=twsrc%5Etfw&#34;&gt;April 16, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;!--/html_preserve--&gt;&lt;/p&gt;

&lt;p&gt;The dataset contains mortality rates for all countries from 1990 to 2016, the aim
was build a meaningful visualization. My idea was show the variation of a specific
cause of death through &lt;em&gt;space-time&lt;/em&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;You can download the data from &lt;a href=&#34;https://github.com/rfordatascience/tidytuesday/blob/master/data/global_mortality.xlsx&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;ingredients&#34;&gt;Ingredients&lt;/h2&gt;

&lt;p&gt;To achieve my goal I used the packages:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dplyr&lt;/code&gt; - data manipulation;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ggplot2&lt;/code&gt; - graphs;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ggthemes&lt;/code&gt; - map theme;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sf&lt;/code&gt; - spatial data manipulation. This package interacts beautifully with &lt;code&gt;ggplot2&lt;/code&gt;
and &lt;code&gt;dplyr&lt;/code&gt;, which makes spatial data manipulation and visualization very easy (and tidy);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;magick&lt;/code&gt; - build the GIF&amp;rsquo;s;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;magrittr&lt;/code&gt; - it&amp;rsquo;s not just the &lt;code&gt;%&amp;gt;%&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;readxl&lt;/code&gt; - reading &lt;code&gt;.xlsx&lt;/code&gt; files;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;maps&lt;/code&gt; - world map &amp;lsquo;shape&amp;rsquo;.&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/WireMonkey&#34; target=&#34;_blank&#34;&gt;Alyssa Goldberg&lt;/a&gt; suggestion:
You can use &lt;code&gt;gganimate&lt;/code&gt; instead of &lt;code&gt;magick&lt;/code&gt;, it will need fewer lines of code.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;reading-and-manipulating-the-data&#34;&gt;Reading and manipulating the data&lt;/h2&gt;

&lt;p&gt;The following code is used to read and make the first manipulations at the data
provided for the challenge. Here, &lt;code&gt;mutate&lt;/code&gt; and &lt;code&gt;case_when&lt;/code&gt;, are being used to
modify the names of some countries to coincide with country names at the
map that will be used.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(ggplot2)
library(dplyr)
library(sf)
library(magrittr)

data &amp;lt;- readxl::read_excel(&amp;quot;data/global_mortality.xlsx&amp;quot;) %&amp;gt;% 
  mutate(country = case_when(
    country == &#39;Antigua and Barbuda&#39; ~ &#39;Antigua&#39;,
    country == &#39;United States&#39; | country == &#39;United States and Virgin Islands&#39; ~ &#39;USA&#39;,
    country == &#39;United Kingdom&#39; ~ &#39;UK&#39;,
    country == &#39;England&#39; ~ &#39;UK&#39;,
    country == &#39;Scotland&#39; ~ &#39;UK&#39;,
    country == &#39;Trinidad and Tobago&#39; ~ &#39;Trinidad&#39;,
    TRUE ~ country
  ))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we need a map and merge our data with it. This would be a little bit more
difficult if we did not have the &lt;code&gt;sf&lt;/code&gt; package.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;world_map &amp;lt;- st_as_sf(maps::map(&#39;world&#39;, plot = FALSE, fill = TRUE))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then we will merge the data from the map with the data provided by the R4DS
challenge. Thank&amp;rsquo;s to &lt;code&gt;dplyr&lt;/code&gt; and &lt;code&gt;sf&lt;/code&gt;, we can do this with the following
lines of code. Here the variables &lt;code&gt;ID&lt;/code&gt; from &lt;code&gt;world map&lt;/code&gt; and &lt;code&gt;country&lt;/code&gt; from
&lt;code&gt;data&lt;/code&gt; must be equal at each country.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;map_years &amp;lt;- world_map %&amp;gt;% 
  full_join(data, by = c(&#39;ID&#39; = &#39;country&#39;))
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;creating-a-gif&#34;&gt;Creating a GIF&lt;/h2&gt;

&lt;h3 id=&#34;building-the-gif-map-function&#34;&gt;Building the &lt;code&gt;gif_map&lt;/code&gt; function&lt;/h3&gt;

&lt;p&gt;To make easier to create a &lt;em&gt;GIF&lt;/em&gt; for different causes of death, I built the following
function. The inputs are the data and a string representing the name of the variable
corresponding to the cause of death you want to visualize.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;gif_map &amp;lt;- function(data, cause_of_death) {
  # Create limits to fix the scales
  fill_lim &amp;lt;- range(data %$% get(cause_of_death), na.rm = T)
  
  # Split the data set for different years
  data_list &amp;lt;- split(data, data$year)
  
  out &amp;lt;- lapply(data_list, function(data, cause_of_death, fill_lim){
    p &amp;lt;- ggplot(data, aes(fill = get(cause_of_death))) +
      geom_sf(size = .2, color = &#39;black&#39;) +
      scale_fill_gradient(low = &amp;quot;#ffefef&amp;quot;, high = &amp;quot;#720000&amp;quot;, space = &amp;quot;Lab&amp;quot;,
                          na.value = &amp;quot;#c6c6c6&amp;quot;, guide = &amp;quot;colourbar&amp;quot;, 
                          limits = c(fill_lim[1], fill_lim[2]),
                          name = cause_of_death) +
      ggthemes::theme_map() +
      labs(title = paste(&#39;Year:&#39;, unique(data$year))) +
      theme(panel.grid.major = element_line(colour = &#39;gray&#39;, size = .2, linetype = &#39;dashed&#39;),
            legend.position = &#39;bottom&#39;)
    print(p)
  }, cause_of_death, fill_lim)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;using-it&#34;&gt;Using it&lt;/h3&gt;

&lt;p&gt;Now that we&amp;rsquo;ve already built a function, use it&amp;rsquo;s very easy.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# Specifying the width, height and resolution
img &amp;lt;- magick::image_graph(width = 800, height = 350, res = 96)

# gif for Homicide mortality rate
gif_map(map_years, &amp;quot;Homicide (%)&amp;quot;)
dev.off()

# building a gif with 8 frames per second
animation &amp;lt;- magick::image_animate(img, fps = 8)

# Visualize it
print(animation)

# Save it
magick::image_write(animation, path = &#39;img/homicide.gif&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;/post/2018/04/2018-04-13-world_map_gig_files/figure-html/create_gif2.gif&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;gganimate-code-outdated&#34;&gt;&lt;code&gt;gganimate&lt;/code&gt; code (outdated)&lt;/h2&gt;

&lt;p&gt;There is an option to create the GIF with &lt;code&gt;gganimate&lt;/code&gt;, the syntax is very simple
and it is attached at the following block of code.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(gganimate)
ggplot(map_years, aes(fill = `Homicide (%)`, frame = years)) +
      geom_sf(size = .2, color = &#39;black&#39;) +
      scale_fill_gradient(low = &amp;quot;#ffefef&amp;quot;, high = &amp;quot;#720000&amp;quot;, space = &amp;quot;Lab&amp;quot;,
                          na.value = &amp;quot;#c6c6c6&amp;quot;, guide = &amp;quot;colourbar&amp;quot;) +
      ggthemes::theme_map() +
      labs(title = paste(&#39;Year:&#39;, unique(data$year))) +
      theme(panel.grid.major = element_line(colour = &#39;gray&#39;, size = .2, linetype = &#39;dashed&#39;),
            legend.position = &#39;bottom&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;final-remarks&#34;&gt;Final remarks&lt;/h2&gt;

&lt;p&gt;At this post, I showed how to build GIF’s considering space-time data with a few
lines of code. I hope that you enjoyed the post, and if you have any doubt or
consideration, you can contact me at twitter or email.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>External Project</title>
      <link>/project/external-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      <guid>/project/external-project/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Internal Project</title>
      <link>/project/internal-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      <guid>/project/internal-project/</guid>
      <description>

&lt;h1 id=&#34;under-construction&#34;&gt;UNDER CONSTRUCTION&lt;/h1&gt;
</description>
    </item>
    
    <item>
      <title>An example journal article</title>
      <link>/publication/journal-article/</link>
      <pubDate>Tue, 01 Sep 2015 00:00:00 +0000</pubDate>
      <guid>/publication/journal-article/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Cite&lt;/em&gt; button above to demo the feature to enable visitors to import publication metadata into their reference management software.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Slides&lt;/em&gt; button above to demo Academic&amp;rsquo;s Markdown slides feature.
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Supplementary notes can be added here, including &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>An example conference paper</title>
      <link>/publication/conference-paper/</link>
      <pubDate>Mon, 01 Jul 2013 00:00:00 +0000</pubDate>
      <guid>/publication/conference-paper/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Cite&lt;/em&gt; button above to demo the feature to enable visitors to import publication metadata into their reference management software.
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;div&gt;
    Click the &lt;em&gt;Slides&lt;/em&gt; button above to demo Academic&amp;rsquo;s Markdown slides feature.
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Supplementary notes can be added here, including &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
